"""init

Revision ID: ec431329c38d
Revises: 
Create Date: 2019-12-12 15:24:50.386734

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'ec431329c38d'
down_revision = None
branch_labels = None
depends_on = None

def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint('fk_affaire_type_id_affaire_type', 'affaire', type_='foreignkey')
    op.drop_constraint('fk_affaire_responsable_id_operateur', 'affaire', type_='foreignkey')
    op.drop_constraint('fk_affaire_cadastre_id_cadastre', 'affaire', type_='foreignkey')
    op.drop_constraint('fk_affaire_technicien_id_operateur', 'affaire', type_='foreignkey')
    op.create_foreign_key(op.f('fk_affaire_type_id_affaire_type'), 'affaire', 'affaire_type', ['type_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_affaire_technicien_id_operateur'), 'affaire', 'operateur', ['technicien_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_affaire_responsable_id_operateur'), 'affaire', 'operateur', ['responsable_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_affaire_cadastre_id_cadastre'), 'affaire', 'cadastre', ['cadastre_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_affaire_numero_affaire_id_affaire', 'affaire_numero', type_='foreignkey')
    op.drop_constraint('fk_affaire_numero_numero_id_numero', 'affaire_numero', type_='foreignkey')
    op.create_foreign_key(op.f('fk_affaire_numero_affaire_id_affaire'), 'affaire_numero', 'affaire', ['affaire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_affaire_numero_numero_id_numero'), 'affaire_numero', 'numero', ['numero_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_client_type_client_client_type', 'client', type_='foreignkey')
    op.create_foreign_key(op.f('fk_client_type_client_client_type'), 'client', 'client_type', ['type_client'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_client_entreprise_id_client', 'client_entreprise', type_='foreignkey')
    op.create_foreign_key(op.f('fk_client_entreprise_id_client'), 'client_entreprise', 'client', ['id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_client_personne_id_client', 'client_personne', type_='foreignkey')
    op.create_foreign_key(op.f('fk_client_personne_id_client'), 'client_personne', 'client', ['id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_emoluments_rf_affaire_id_affaire', 'emoluments_rf', type_='foreignkey')
    op.create_foreign_key(op.f('fk_emoluments_rf_affaire_id_affaire'), 'emoluments_rf', 'affaire', ['affaire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_envoi_document_destinataire_id_client', 'envoi_document', type_='foreignkey')
    op.create_foreign_key(op.f('fk_envoi_document_destinataire_id_client'), 'envoi_document', 'client', ['destinataire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_etape_affaire_affaire_id_affaire', 'etape_affaire', type_='foreignkey')
    op.drop_constraint('fk_etape_affaire_statut_id_statut_affaire', 'etape_affaire', type_='foreignkey')
    op.create_foreign_key(op.f('fk_etape_affaire_affaire_id_affaire'), 'etape_affaire', 'affaire', ['affaire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_etape_affaire_statut_id_statut_affaire'), 'etape_affaire', 'statut_affaire', ['statut_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_facture_client_id_client', 'facture', type_='foreignkey')
    op.create_foreign_key(op.f('fk_facture_client_id_client'), 'facture', 'client', ['client_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_facture_partielle_sap_facture', 'facture_partielle', type_='foreignkey')
    op.create_foreign_key(op.f('fk_facture_partielle_sap_facture'), 'facture_partielle', 'facture', ['sap'], ['sap'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_modification_affaire_affaire_id_fille_affaire', 'modification_affaire', type_='foreignkey')
    op.drop_constraint('fk_modification_affaire_affaire_id_mere_affaire', 'modification_affaire', type_='foreignkey')
    op.drop_constraint('fk_modification_affaire_type_id_modification_affaire_type', 'modification_affaire', type_='foreignkey')
    op.create_foreign_key(op.f('fk_modification_affaire_affaire_id_fille_affaire'), 'modification_affaire', 'affaire', ['affaire_id_fille'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_modification_affaire_affaire_id_mere_affaire'), 'modification_affaire', 'affaire', ['affaire_id_mere'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_modification_affaire_type_id_modification_affaire_type'), 'modification_affaire', 'modification_affaire_type', ['type_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_numero_cadastre_id_cadastre', 'numero', type_='foreignkey')
    op.drop_constraint('fk_numero_type_id_numero_type', 'numero', type_='foreignkey')
    op.drop_constraint('fk_numero_etat_id_numero_etat', 'numero', type_='foreignkey')
    op.create_foreign_key(op.f('fk_numero_cadastre_id_cadastre'), 'numero', 'cadastre', ['cadastre_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_numero_type_id_numero_type'), 'numero', 'numero_type', ['type_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_numero_etat_id_numero_etat'), 'numero', 'numero_etat', ['etat_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_numero_plan_plan_id_plan', 'numero_plan', type_='foreignkey')
    op.drop_constraint('fk_numero_plan_numero_id_numero', 'numero_plan', type_='foreignkey')
    op.create_foreign_key(op.f('fk_numero_plan_plan_id_plan'), 'numero_plan', 'plan', ['plan_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_numero_plan_numero_id_numero'), 'numero_plan', 'numero', ['numero_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_numero_relation_relation_type_id_relation_type', 'numero_relation', type_='foreignkey')
    op.drop_constraint('fk_numero_relation_numero_id_associe_numero', 'numero_relation', type_='foreignkey')
    op.drop_constraint('fk_numero_relation_numero_id_base_numero', 'numero_relation', type_='foreignkey')
    op.create_foreign_key(op.f('fk_numero_relation_relation_type_id_relation_type'), 'numero_relation', 'relation_type', ['relation_type_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_numero_relation_numero_id_associe_numero'), 'numero_relation', 'numero', ['numero_id_associe'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_numero_relation_numero_id_base_numero'), 'numero_relation', 'numero', ['numero_id_base'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_plan_cadastre_id_cadastre', 'plan', type_='foreignkey')
    op.create_foreign_key(op.f('fk_plan_cadastre_id_cadastre'), 'plan', 'cadastre', ['cadastre_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_preavis_service_id_service', 'preavis', type_='foreignkey')
    op.drop_constraint('fk_preavis_decision_preavis_decision', 'preavis', type_='foreignkey')
    op.drop_constraint('fk_preavis_preavis_id_preavis_type', 'preavis', type_='foreignkey')
    op.drop_constraint('fk_preavis_affaire_id_affaire', 'preavis', type_='foreignkey')
    op.create_foreign_key(op.f('fk_preavis_service_id_service'), 'preavis', 'service', ['service_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_preavis_decision_preavis_decision'), 'preavis', 'preavis_decision', ['decision'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_preavis_preavis_id_preavis_type'), 'preavis', 'preavis_type', ['preavis_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_preavis_affaire_id_affaire'), 'preavis', 'affaire', ['affaire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_relation_affaire_client_affaire_id_affaire', 'relation_affaire_client', type_='foreignkey')
    op.drop_constraint('fk_relation_affaire_client_client_id_client', 'relation_affaire_client', type_='foreignkey')
    op.drop_constraint('fk_relation_affaire_client_relation_type_id_relation_af_f21d', 'relation_affaire_client', type_='foreignkey')
    op.create_foreign_key(op.f('fk_relation_affaire_client_affaire_id_affaire'), 'relation_affaire_client', 'affaire', ['affaire_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_relation_affaire_client_client_id_client'), 'relation_affaire_client', 'client', ['client_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.create_foreign_key(op.f('fk_relation_affaire_client_relation_type_id_relation_affaire_client_type'), 'relation_affaire_client', 'relation_affaire_client_type', ['relation_type_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    op.drop_constraint('fk_remarque_affaire_operateur_id_operateur', 'remarque_affaire', type_='foreignkey')
    op.create_foreign_key(op.f('fk_remarque_affaire_operateur_id_operateur'), 'remarque_affaire', 'operateur', ['operateur_id'], ['id'], source_schema='infolica', referent_schema='infolica')
    # ### end Alembic commands ###

def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(op.f('fk_remarque_affaire_operateur_id_operateur'), 'remarque_affaire', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_remarque_affaire_operateur_id_operateur', 'remarque_affaire', 'operateur', ['operateur_id'], ['id'])
    op.drop_constraint(op.f('fk_relation_affaire_client_relation_type_id_relation_affaire_client_type'), 'relation_affaire_client', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_relation_affaire_client_client_id_client'), 'relation_affaire_client', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_relation_affaire_client_affaire_id_affaire'), 'relation_affaire_client', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_relation_affaire_client_relation_type_id_relation_af_f21d', 'relation_affaire_client', 'relation_affaire_client_type', ['relation_type_id'], ['id'])
    op.create_foreign_key('fk_relation_affaire_client_client_id_client', 'relation_affaire_client', 'client', ['client_id'], ['id'])
    op.create_foreign_key('fk_relation_affaire_client_affaire_id_affaire', 'relation_affaire_client', 'affaire', ['affaire_id'], ['id'])
    op.drop_constraint(op.f('fk_preavis_affaire_id_affaire'), 'preavis', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_preavis_preavis_id_preavis_type'), 'preavis', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_preavis_decision_preavis_decision'), 'preavis', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_preavis_service_id_service'), 'preavis', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_preavis_affaire_id_affaire', 'preavis', 'affaire', ['affaire_id'], ['id'])
    op.create_foreign_key('fk_preavis_preavis_id_preavis_type', 'preavis', 'preavis_type', ['preavis_id'], ['id'])
    op.create_foreign_key('fk_preavis_decision_preavis_decision', 'preavis', 'preavis_decision', ['decision'], ['id'])
    op.create_foreign_key('fk_preavis_service_id_service', 'preavis', 'service', ['service_id'], ['id'])
    op.drop_constraint(op.f('fk_plan_cadastre_id_cadastre'), 'plan', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_plan_cadastre_id_cadastre', 'plan', 'cadastre', ['cadastre_id'], ['id'])
    op.drop_constraint(op.f('fk_numero_relation_numero_id_base_numero'), 'numero_relation', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_numero_relation_numero_id_associe_numero'), 'numero_relation', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_numero_relation_relation_type_id_relation_type'), 'numero_relation', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_numero_relation_numero_id_base_numero', 'numero_relation', 'numero', ['numero_id_base'], ['id'])
    op.create_foreign_key('fk_numero_relation_numero_id_associe_numero', 'numero_relation', 'numero', ['numero_id_associe'], ['id'])
    op.create_foreign_key('fk_numero_relation_relation_type_id_relation_type', 'numero_relation', 'relation_type', ['relation_type_id'], ['id'])
    op.drop_constraint(op.f('fk_numero_plan_numero_id_numero'), 'numero_plan', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_numero_plan_plan_id_plan'), 'numero_plan', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_numero_plan_numero_id_numero', 'numero_plan', 'numero', ['numero_id'], ['id'])
    op.create_foreign_key('fk_numero_plan_plan_id_plan', 'numero_plan', 'plan', ['plan_id'], ['id'])
    op.drop_constraint(op.f('fk_numero_etat_id_numero_etat'), 'numero', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_numero_type_id_numero_type'), 'numero', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_numero_cadastre_id_cadastre'), 'numero', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_numero_etat_id_numero_etat', 'numero', 'numero_etat', ['etat_id'], ['id'])
    op.create_foreign_key('fk_numero_type_id_numero_type', 'numero', 'numero_type', ['type_id'], ['id'])
    op.create_foreign_key('fk_numero_cadastre_id_cadastre', 'numero', 'cadastre', ['cadastre_id'], ['id'])
    op.drop_constraint(op.f('fk_modification_affaire_type_id_modification_affaire_type'), 'modification_affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_modification_affaire_affaire_id_mere_affaire'), 'modification_affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_modification_affaire_affaire_id_fille_affaire'), 'modification_affaire', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_modification_affaire_type_id_modification_affaire_type', 'modification_affaire', 'modification_affaire_type', ['type_id'], ['id'])
    op.create_foreign_key('fk_modification_affaire_affaire_id_mere_affaire', 'modification_affaire', 'affaire', ['affaire_id_mere'], ['id'])
    op.create_foreign_key('fk_modification_affaire_affaire_id_fille_affaire', 'modification_affaire', 'affaire', ['affaire_id_fille'], ['id'])
    op.drop_constraint(op.f('fk_facture_partielle_sap_facture'), 'facture_partielle', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_facture_partielle_sap_facture', 'facture_partielle', 'facture', ['sap'], ['sap'])
    op.drop_constraint(op.f('fk_facture_client_id_client'), 'facture', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_facture_client_id_client', 'facture', 'client', ['client_id'], ['id'])
    op.drop_constraint(op.f('fk_etape_affaire_statut_id_statut_affaire'), 'etape_affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_etape_affaire_affaire_id_affaire'), 'etape_affaire', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_etape_affaire_statut_id_statut_affaire', 'etape_affaire', 'statut_affaire', ['statut_id'], ['id'])
    op.create_foreign_key('fk_etape_affaire_affaire_id_affaire', 'etape_affaire', 'affaire', ['affaire_id'], ['id'])
    op.drop_constraint(op.f('fk_envoi_document_destinataire_id_client'), 'envoi_document', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_envoi_document_destinataire_id_client', 'envoi_document', 'client', ['destinataire_id'], ['id'])
    op.drop_constraint(op.f('fk_emoluments_rf_affaire_id_affaire'), 'emoluments_rf', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_emoluments_rf_affaire_id_affaire', 'emoluments_rf', 'affaire', ['affaire_id'], ['id'])
    op.drop_constraint(op.f('fk_client_personne_id_client'), 'client_personne', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_client_personne_id_client', 'client_personne', 'client', ['id'], ['id'])
    op.drop_constraint(op.f('fk_client_entreprise_id_client'), 'client_entreprise', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_client_entreprise_id_client', 'client_entreprise', 'client', ['id'], ['id'])
    op.drop_constraint(op.f('fk_client_type_client_client_type'), 'client', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_client_type_client_client_type', 'client', 'client_type', ['type_client'], ['id'])
    op.drop_constraint(op.f('fk_affaire_numero_numero_id_numero'), 'affaire_numero', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_affaire_numero_affaire_id_affaire'), 'affaire_numero', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_affaire_numero_numero_id_numero', 'affaire_numero', 'numero', ['numero_id'], ['id'])
    op.create_foreign_key('fk_affaire_numero_affaire_id_affaire', 'affaire_numero', 'affaire', ['affaire_id'], ['id'])
    op.drop_constraint(op.f('fk_affaire_cadastre_id_cadastre'), 'affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_affaire_responsable_id_operateur'), 'affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_affaire_technicien_id_operateur'), 'affaire', schema='infolica', type_='foreignkey')
    op.drop_constraint(op.f('fk_affaire_type_id_affaire_type'), 'affaire', schema='infolica', type_='foreignkey')
    op.create_foreign_key('fk_affaire_technicien_id_operateur', 'affaire', 'operateur', ['technicien_id'], ['id'])
    op.create_foreign_key('fk_affaire_cadastre_id_cadastre', 'affaire', 'cadastre', ['cadastre_id'], ['id'])
    op.create_foreign_key('fk_affaire_responsable_id_operateur', 'affaire', 'operateur', ['responsable_id'], ['id'])
    op.create_foreign_key('fk_affaire_type_id_affaire_type', 'affaire', 'affaire_type', ['type_id'], ['id'])
    # ### end Alembic commands ###
